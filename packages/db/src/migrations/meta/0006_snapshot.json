{
	"id": "ba7ea0c7-262c-4a60-a3f6-1dc1fc3b0307",
	"prevId": "844b7ff3-1d46-43f3-89fe-26b4c225a415",
	"version": "7",
	"dialect": "postgresql",
	"tables": {
		"public.account": {
			"name": "account",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"account_id": {
					"name": "account_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"provider_id": {
					"name": "provider_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"user_id": {
					"name": "user_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"access_token": {
					"name": "access_token",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"refresh_token": {
					"name": "refresh_token",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"id_token": {
					"name": "id_token",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"access_token_expires_at": {
					"name": "access_token_expires_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"refresh_token_expires_at": {
					"name": "refresh_token_expires_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"scope": {
					"name": "scope",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"password": {
					"name": "password",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"uniq_account_provider_account": {
					"name": "uniq_account_provider_account",
					"columns": [
						{
							"expression": "provider_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "account_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"account_user_id_user_id_fk": {
					"name": "account_user_id_user_id_fk",
					"tableFrom": "account",
					"tableTo": "user",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.session": {
			"name": "session",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"expires_at": {
					"name": "expires_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true
				},
				"token": {
					"name": "token",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"ip_address": {
					"name": "ip_address",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"user_agent": {
					"name": "user_agent",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"user_id": {
					"name": "user_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_session_user_token": {
					"name": "idx_session_user_token",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "token",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"session_user_id_user_id_fk": {
					"name": "session_user_id_user_id_fk",
					"tableFrom": "session",
					"tableTo": "user",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"session_token_unique": {
					"name": "session_token_unique",
					"nullsNotDistinct": false,
					"columns": ["token"]
				}
			},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.user": {
			"name": "user",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"email": {
					"name": "email",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"email_verified": {
					"name": "email_verified",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"image": {
					"name": "image",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"user_email_unique": {
					"name": "user_email_unique",
					"nullsNotDistinct": false,
					"columns": ["email"]
				}
			},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.verification": {
			"name": "verification",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"identifier": {
					"name": "identifier",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"value": {
					"name": "value",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"expires_at": {
					"name": "expires_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"uniq_verification_identifier_value": {
					"name": "uniq_verification_identifier_value",
					"columns": [
						{
							"expression": "identifier",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "value",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_verification_expires_at": {
					"name": "idx_verification_expires_at",
					"columns": [
						{
							"expression": "expires_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.domain": {
			"name": "domain",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"apex": {
					"name": "apex",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"verified_at": {
					"name": "verified_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"verified": {
					"name": "verified",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"user_id": {
					"name": "user_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_domain_user": {
					"name": "idx_domain_user",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"domain_user_id_user_id_fk": {
					"name": "domain_user_id_user_id_fk",
					"tableFrom": "domain",
					"tableTo": "user",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.outbox": {
			"name": "outbox",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"topic": {
					"name": "topic",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"payload": {
					"name": "payload",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": true
				},
				"dedupe_key": {
					"name": "dedupe_key",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"status": {
					"name": "status",
					"type": "outbox_status",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'pending'"
				},
				"attempts": {
					"name": "attempts",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"last_error": {
					"name": "last_error",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"processed_at": {
					"name": "processed_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"idx_outbox_created_at": {
					"name": "idx_outbox_created_at",
					"columns": [
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"uniq_outbox_dedupe": {
					"name": "uniq_outbox_dedupe",
					"columns": [
						{
							"expression": "dedupe_key",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.redirect": {
			"name": "redirect",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"domain_id": {
					"name": "domain_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"subdomain": {
					"name": "subdomain",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"destination_url": {
					"name": "destination_url",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"code": {
					"name": "code",
					"type": "redirect_code",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'308'"
				},
				"preserve_path": {
					"name": "preserve_path",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": true
				},
				"preserve_query": {
					"name": "preserve_query",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": true
				},
				"enabled": {
					"name": "enabled",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": true
				},
				"version": {
					"name": "version",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"uniq_redirect_domain_subdomain": {
					"name": "uniq_redirect_domain_subdomain",
					"columns": [
						{
							"expression": "domain_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "subdomain",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_redirect_domain": {
					"name": "idx_redirect_domain",
					"columns": [
						{
							"expression": "domain_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"redirect_domain_id_domain_id_fk": {
					"name": "redirect_domain_id_domain_id_fk",
					"tableFrom": "redirect",
					"tableTo": "domain",
					"columnsFrom": ["domain_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.usage_period": {
			"name": "usage_period",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true
				},
				"user_id": {
					"name": "user_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"redirect_id": {
					"name": "redirect_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"period_start": {
					"name": "period_start",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true
				},
				"period_end": {
					"name": "period_end",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true
				},
				"redirect_count": {
					"name": "redirect_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"polar_reported": {
					"name": "polar_reported",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"polar_reported_at": {
					"name": "polar_reported_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"polar_customer_id": {
					"name": "polar_customer_id",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"last_error": {
					"name": "last_error",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"retry_count": {
					"name": "retry_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_usage_user": {
					"name": "idx_usage_user",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_usage_redirect": {
					"name": "idx_usage_redirect",
					"columns": [
						{
							"expression": "redirect_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_usage_period_start": {
					"name": "idx_usage_period_start",
					"columns": [
						{
							"expression": "period_start",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_usage_polar_reported": {
					"name": "idx_usage_polar_reported",
					"columns": [
						{
							"expression": "polar_reported",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"uniq_usage_redirect_period": {
					"name": "uniq_usage_redirect_period",
					"columns": [
						{
							"expression": "redirect_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "period_start",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"usage_period_user_id_user_id_fk": {
					"name": "usage_period_user_id_user_id_fk",
					"tableFrom": "usage_period",
					"tableTo": "user",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"usage_period_redirect_id_redirect_id_fk": {
					"name": "usage_period_redirect_id_redirect_id_fk",
					"tableFrom": "usage_period",
					"tableTo": "redirect",
					"columnsFrom": ["redirect_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		}
	},
	"enums": {
		"public.outbox_status": {
			"name": "outbox_status",
			"schema": "public",
			"values": ["pending", "done", "failed"]
		},
		"public.redirect_code": {
			"name": "redirect_code",
			"schema": "public",
			"values": ["301", "302", "307", "308"]
		}
	},
	"schemas": {},
	"sequences": {},
	"roles": {},
	"policies": {},
	"views": {},
	"_meta": {
		"columns": {},
		"schemas": {},
		"tables": {}
	}
}
